{"ast":null,"code":"var _jsxFileName = \"/Volumes/macOS SD/Users/c.mostafa/Projects/ha-tech-task/src/Characters/CharactersList.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport { connect, useDispatch } from 'react-redux';\nimport { get as _get } from 'lodash-es';\nimport CharactersCard from './CharacterCard';\nimport Paginate from './components/Paginate';\nimport { charactersActionCreators } from './charactersActions';\n\nfunction CharactersList(_ref) {\n  var charactersList = _ref.charactersList,\n      currentPage = _ref.currentPage,\n      isLoading = _ref.isLoading;\n  var dispatch = useDispatch();\n  var loadPage = useCallback(function (pageNum) {\n    if (!isLoading && currentPage !== pageNum) {\n      dispatch(charactersActionCreators.LIST_ALL.REQUEST(pageNum));\n    }\n  }, [dispatch, isLoading, currentPage]);\n  var nextPage = useCallback(function () {\n    return loadPage(currentPage + 1);\n  }, [loadPage, currentPage]);\n  var prevPage = useCallback(function () {\n    return loadPage(currentPage - 1);\n  }, [loadPage, currentPage]);\n\n  if (!charactersList.length) {\n    loadPage(1);\n  }\n\n  var characters = charactersList.map(function (charactersInfo) {\n    return React.createElement(CharactersCard, Object.assign({}, charactersInfo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }));\n  });\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"left\",\n    alignItems: \"stretch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, characters), React.createElement(Paginate, {\n    onNext: nextPage,\n    onPrev: prevPage,\n    onSelect: loadPage,\n    currentPage: currentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }));\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    charactersList: _get(state, 'Characters.characterList', []),\n    currentPage: _get(state, 'Characters.page', 1),\n    totalCount: _get(state, 'Characters.count', 1),\n    isLoading: _get(state, 'Characters.isLoading', false)\n  };\n}\n\nexport default connect(mapStateToProps)(CharactersList);","map":{"version":3,"sources":["/Volumes/macOS SD/Users/c.mostafa/Projects/ha-tech-task/src/Characters/CharactersList.js"],"names":["React","useState","useEffect","useCallback","Grid","Button","ButtonGroup","connect","useDispatch","get","_get","CharactersCard","Paginate","charactersActionCreators","CharactersList","charactersList","currentPage","isLoading","dispatch","loadPage","pageNum","LIST_ALL","REQUEST","nextPage","prevPage","length","characters","map","charactersInfo","mapStateToProps","state","ownProps","totalCount"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,aAArC;AAEA,SAASC,GAAG,IAAIC,IAAhB,QAA4B,WAA5B;AAEA,OAAOC,cAAP,MAA2B,iBAA3B;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAASC,wBAAT,QAAyC,qBAAzC;;AAGA,SAASC,cAAT,OAAoE;AAAA,MAA1CC,cAA0C,QAA1CA,cAA0C;AAAA,MAA1BC,WAA0B,QAA1BA,WAA0B;AAAA,MAAbC,SAAa,QAAbA,SAAa;AAClE,MAAMC,QAAQ,GAAGV,WAAW,EAA5B;AAEA,MAAMW,QAAQ,GAAGhB,WAAW,CAC1B,UAACiB,OAAD,EAAa;AACX,QAAI,CAACH,SAAD,IAAcD,WAAW,KAAKI,OAAlC,EAA2C;AACzCF,MAAAA,QAAQ,CAACL,wBAAwB,CAACQ,QAAzB,CAAkCC,OAAlC,CAA0CF,OAA1C,CAAD,CAAR;AACD;AACF,GALyB,EAM1B,CAACF,QAAD,EAAWD,SAAX,EAAsBD,WAAtB,CAN0B,CAA5B;AASA,MAAMO,QAAQ,GAAGpB,WAAW,CAC1B;AAAA,WAAMgB,QAAQ,CAACH,WAAW,GAAG,CAAf,CAAd;AAAA,GAD0B,EAE1B,CAACG,QAAD,EAAWH,WAAX,CAF0B,CAA5B;AAKA,MAAMQ,QAAQ,GAAGrB,WAAW,CAC1B;AAAA,WAAMgB,QAAQ,CAACH,WAAW,GAAG,CAAf,CAAd;AAAA,GAD0B,EAE1B,CAACG,QAAD,EAAWH,WAAX,CAF0B,CAA5B;;AAKA,MAAI,CAACD,cAAc,CAACU,MAApB,EAA4B;AAC1BN,IAAAA,QAAQ,CAAC,CAAD,CAAR;AACD;;AAED,MAAMO,UAAU,GAAGX,cAAc,CAC9BY,GADgB,CACZ,UAACC,cAAD;AAAA,WAAqB,oBAAC,cAAD,oBAAoBA,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAArB;AAAA,GADY,CAAnB;AAGA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,SAAS,EAAC,KAFZ;AAGE,IAAA,OAAO,EAAC,MAHV;AAIE,IAAA,UAAU,EAAC,SAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGF,UANH,CADF,EAUE,oBAAC,QAAD;AACE,IAAA,MAAM,EAAEH,QADV;AAEE,IAAA,MAAM,EAAEC,QAFV;AAGE,IAAA,QAAQ,EAAEL,QAHZ;AAIE,IAAA,WAAW,EAAEH,WAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAmBD;;AAED,SAASa,eAAT,CAAyBC,KAAzB,EAAgCC,QAAhC,EAA0C;AACxC,SAAO;AACLhB,IAAAA,cAAc,EAAEL,IAAI,CAACoB,KAAD,EAAQ,0BAAR,EAAoC,EAApC,CADf;AAELd,IAAAA,WAAW,EAAEN,IAAI,CAACoB,KAAD,EAAQ,iBAAR,EAA2B,CAA3B,CAFZ;AAGLE,IAAAA,UAAU,EAAEtB,IAAI,CAACoB,KAAD,EAAQ,kBAAR,EAA4B,CAA5B,CAHX;AAILb,IAAAA,SAAS,EAAEP,IAAI,CAACoB,KAAD,EAAQ,sBAAR,EAAgC,KAAhC;AAJV,GAAP;AAMD;;AAED,eAAevB,OAAO,CAACsB,eAAD,CAAP,CAAyBf,cAAzB,CAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport { connect, useDispatch } from 'react-redux'\n\nimport { get as _get } from 'lodash-es'\n\nimport CharactersCard from './CharacterCard'\nimport Paginate from './components/Paginate'\nimport { charactersActionCreators } from './charactersActions'\n\n\nfunction CharactersList({ charactersList, currentPage, isLoading }) {\n  const dispatch = useDispatch()\n\n  const loadPage = useCallback(\n    (pageNum) => {\n      if (!isLoading && currentPage !== pageNum) {\n        dispatch(charactersActionCreators.LIST_ALL.REQUEST(pageNum))\n      }\n    },\n    [dispatch, isLoading, currentPage]\n  )\n\n  const nextPage = useCallback(\n    () => loadPage(currentPage + 1),\n    [loadPage, currentPage]\n  )\n\n  const prevPage = useCallback(\n    () => loadPage(currentPage - 1),\n    [loadPage, currentPage]\n  )\n\n  if (!charactersList.length) {\n    loadPage(1)\n  }\n\n  const characters = charactersList\n    .map((charactersInfo) => (<CharactersCard {...charactersInfo} />))\n\n  return (\n    <React.Fragment>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"left\"\n        alignItems=\"stretch\"\n      >\n        {characters}\n      </Grid>\n\n      <Paginate\n        onNext={nextPage}\n        onPrev={prevPage}\n        onSelect={loadPage}\n        currentPage={currentPage}\n      />\n    </React.Fragment>\n  )\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    charactersList: _get(state, 'Characters.characterList', []),\n    currentPage: _get(state, 'Characters.page', 1),\n    totalCount: _get(state, 'Characters.count', 1),\n    isLoading: _get(state, 'Characters.isLoading', false),\n  }\n}\n\nexport default connect(mapStateToProps)(CharactersList)\n"]},"metadata":{},"sourceType":"module"}